/*!
 * OurJS Modern
 *  sundongguo
 *  http://s79.github.com/OurJS/
 *  2014-09-29
 *  Released under the MIT License.
 */
(function(h){String.prototype.repeat=function(n){n=Number.toInteger(n);var m="";while(n--){m+=this}return m};String.prototype.startsWith=function(m){return this.indexOf(m)===0};String.prototype.endsWith=function(m){var n=this.lastIndexOf(m);return n>=0&&n===this.length-m.length};String.prototype.contains=function(m){return this.indexOf(m)!==-1};String.prototype.toArray=function(){return this.split("")};Number.isFinite=function(m){return typeof m==="number"&&isFinite(m)};Number.isNaN=function(m){return typeof m==="number"&&isNaN(m)};Number.isInteger=function(m){return Number.isFinite(m)&&Math.floor(m)===m&&m>-9007199254740992&&m<9007199254740992};Number.toInteger=function(m){m=+m||0;m=Math[m<0?"ceil":"floor"](m);return m};var g=/(-|_)+/g;var b=/[^A-Z\s]([A-Z])|[A-Z][^A-Z\s]/g;var e=function(m){return m.replace(g," ").replace(b,function(o,n){return n?o.charAt(0)+" "+o.charAt(1):" "+o}).clean().split(" ")};var d=/YYYY|MM|DD|hh|mm|ss|s|TZD/g;var f={};["Boolean","Number","String","Array","Date","RegExp","Error","Math","JSON","Arguments"].forEach(function(m){f["[object "+m+"]"]="object."+m});var c=Object.prototype.toString;var k=/^\s+function .+\s+\[native code\]\s+\}\s+$/;h.typeOf=function(o){var n=typeof o;if(n==="function"&&typeof o.item==="function"){n="object.Collection"}else{if(n==="object"){if(o===null){n="null"}else{n=f[c.call(o)]||"object.Object";if(n==="object.Object"){var m=String(o);if(m==="[object Window]"||m==="[object DOMWindow]"){n="object.Global"}else{if(m==="[object JSON]"){n="object.JSON"}else{if(k.test(m)){n="function"}else{if("nodeType" in o){n="object.Node"}else{if(typeof o.length==="number"){if("navigator" in o){n="object.Global"}else{if("item" in o){n="object.Collection"}else{if("callee" in o){n="object.Arguments"}}}}}}}}}}}}return n};Object.forEach=function(n,o,m){Object.keys(n).forEach(function(p){o.call(m,n[p],p,n)})};Object.clone=function(n,p){var o;var m=typeOf(n);switch(m){case"undefined":case"boolean":case"number":case"string":case"null":o=n;break;case"object.Boolean":case"object.Number":case"object.String":case"object.Date":case"object.RegExp":o=new n.constructor(n.valueOf());case"object.Array":if(!o){o=[]}case"object.Object":if(!o){o={}}Object.forEach(n,function(r,q){o[q]=p?Object.clone(r,true):r});break;default:throw new TypeError("Object.clone called on no-cloning type: "+m)}return o};Object.mixin=function(r,n,p){var q=Object.keys(n);if(p){var o=p.whiteList;var m=p.blackList;if(o){q=q.filter(function(s){return o.contains(s)})}if(m){q=q.filter(function(s){return !m.contains(s)})}}q.forEach(function(s){r[s]=n[s]});return r};Object.toQueryString=function(n,p){var m=[];var o=function(q,r){if(r!=null){m.push(p?q+"="+r:encodeURIComponent(q)+"="+encodeURIComponent(r))}};Object.forEach(n,function(r,q){if(Array.isArray(r)){r.forEach(function(s){o(q,s)})}else{o(q,r)}});return m.join("&")};Object.fromQueryString=function(o,m){var n={};o.split("&").forEach(function(r){var p=r.split("=");var q=p[0];var s=p[1];if(s!==undefined){if(!m){q=decodeURIComponent(q);s=decodeURIComponent(s)}if(n.hasOwnProperty(q)){typeof n[q]==="string"?n[q]=[n[q],s]:n[q].push(s)}else{n[q]=s}}});return n};Array.from=function(p){if(p==null){return[]}if(Array.isArray(p)){return p}if(typeof p.toArray==="function"){return p.toArray()}switch(typeOf(p)){case"object.Arguments":case"object.Collection":case"object.Object":var n=0;var o=p.length;if(typeof o==="number"){var m=[];while(n<o){if(!p.hasOwnProperty||p.hasOwnProperty(n)){m[n]=p[n]}n++}m.length=o;return m}}return[p]};Array.prototype.shuffle=function(){var n=this.length;var o;var m;if(n>1){while(--n){o=Math.floor(Math.random()*(n+1));m=this[n];this[n]=this[o];this[o]=m}}return this};Array.prototype.contains=function(m){return this.indexOf(m)!==-1};Array.prototype.remove=function(n){var m=this.indexOf(n);if(m>-1){this.splice(m,1);return true}return false};Array.prototype.getFirst=function(){return this[0]};Array.prototype.getLast=function(){return this[this.length-1]};var l=/[\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200B\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g;String.prototype.clean=function(){return this.replace(l," ").trim()};String.prototype.camelize=function(m){return e(this).map(function(o,n){return(n||m)?o.slice(0,1).toUpperCase()+o.slice(1).toLowerCase():o.toLowerCase()}).join("")};String.prototype.dasherize=function(){return e(this).join("-").toLowerCase()};Number.prototype.padZero=function(p){var m=(this<0)?"-":"";var o=String(Math.abs(this));if(isFinite(this)){var n=o.length-(Math.ceil(this)==this?0:1);if(n<p){o="0".repeat(p-n)+o}}return m+o};Math.limit=function(o,n,m){return Number.isFinite(o)?Math.min(m,Math.max(n,o)):(o===Infinity?m:n)};Math.randomRange=function(n,m){return Math.floor(Math.random()*(m-n+1)+n)};var a=new Date();var i=a.getTimezoneOffset()*60000;Date.parseExact=function(r,u,o){u=u||"YYYY-MM-DD";var p={};var q;var s;var w;var v;var n;var x;var t=0;while(q=d.exec(u)){w=q[0];s=q.index;n=s+t;if(w==="TZD"){x=r.charAt(n)==="Z"?-2:3}else{if(w==="s"){x=2}else{x=0}}v=r.substring(n,n+w.length+x);if(w==="TZD"){v=v==="Z"?0:(v.slice(0,1)==="-"?1000:-1000)*(v.slice(1,3)*3600+v.slice(4,6)*60)}else{v=Number.toInteger(v);if(w==="MM"){--v}}p[w]=v;t+=x}var m=Object.mixin({YYYY:a.getFullYear(),MM:0,DD:1,hh:0,mm:0,ss:0,s:0,TZD:o?0:i},p);return new Date(Date.UTC(m.YYYY,m.MM,m.DD,m.hh,m.mm,m.ss,m.s)+m.TZD)};Date.prototype.format=function(s,p){s=s||"YYYY-MM-DD";var m=p?"getUTC":"get";var t=this.getTimezoneOffset();var q=t<0?"+":"-";var r=(Math.floor(Math.abs(t)/60)).padZero(2);var o=(Math.abs(t)-r*60).padZero(2);var u={YYYY:this[m+"FullYear"](),MM:(this[m+"Month"]()+1).padZero(2),DD:this[m+"Date"]().padZero(2),hh:this[m+"Hours"]().padZero(2),mm:this[m+"Minutes"]().padZero(2),ss:this[m+"Seconds"]().padZero(2),s:this[m+"Milliseconds"]().padZero(3),TZD:(p||t===0)?"Z":(q+r+":"+o)};var n=s.replace(d,function(v){return u[v]});return n};var j=/([.*+?^${}()|\[\]\/\\])/g;RegExp.escape=function(m){return String(m).replace(j,"\\$1")}})(window);(function(b){Object.mixin(navigator,function(){var k="Unknown";var e="Unknown";var i=NaN;var n=navigator.userAgent;if(/Trident|MSIE/.test(n)){k="Trident"}else{if(/WebKit/.test(n)){k="WebKit"}else{if(/Gecko/.test(n)){k="Gecko"}else{if(/Presto/.test(n)){k="Presto"}}}}if(n.match(/(IE|Firefox|Chrome|Safari|Opera)(?: |\/)(\d+)/)){e=RegExp.$1;i=Number.toInteger(RegExp.$2);if(n.match(/Version\/(\d+)/)){i=Number.toInteger(RegExp.$1)}}var o=(navigator.language||navigator.userLanguage).toLowerCase();var l=!!(b.WebSocket&&b.sessionStorage&&b.localStorage);if(!l){console.warn("OurJS: Browser version is too low!")}var h=document.compatMode==="CSS1Compat";if(!h){console.warn("OurJS: Browser is working in non-standards mode!")}var g=false;var d=false;var c=false;var j=false;var f=false;if("ActiveXObject" in b){g=true}else{if("uneval" in b){d=true}else{if("chrome" in b){c=true}else{if(getComputedStyle(document.documentElement,null).getPropertyValue("-webkit-user-select")){j=true}else{if("opera" in b){f=true}}}}}var m={touch:"ontouchstart" in b&&"ontouchend" in b&&"ontouchmove" in b&&"ontouchcancel" in b,orientation:"orientation" in b&&"onorientationchange" in b};return{userAgentInfo:{engine:k,name:e,version:i},languageCode:o,isModernBrowser:l,inStandardsMode:h,isIE:g,isFirefox:d,isChrome:c,isSafari:j,isOpera:f,support:m}}());location.parameters=Object.fromQueryString(location.search.slice(1),true);var a=b.cookie={};a.getItem=function(d){var c=document.cookie.match(new RegExp("(?:^|;)\\s*"+RegExp.escape(d)+"=([^;]*)"));return c?decodeURIComponent(c[1]):null};a.setItem=function(d,f,c){c=c||{};var e=d+"="+encodeURIComponent(f);if(c.path){e+="; path="+c.path}if(c.domain){e+="; domain="+c.domain}if(c.secure){e+="; secure"}if(c.expires){e+="; expires="+(typeof c.expires==="string"?Date.parseExact(c.expires,"YYYY-MM-DD hh:mm:ss"):c.expires).toUTCString()}document.cookie=e};a.removeItem=function(d,c){c=c||{};c.expires=new Date(0);this.setItem(d,"",c)}})(window);(function(n){var x=n.document;var z=x.documentElement;n.getClientSize=function(){return{width:z.clientWidth,height:z.clientHeight}};n.getScrollSize=function(){var H=x.body||{scrollWidth:0,scrollHeight:0};return{width:Math.max(z.scrollWidth,H.scrollWidth,z.clientWidth),height:Math.max(z.scrollHeight,H.scrollHeight,z.clientHeight)}};n.getPageOffset=function(){return{x:n.pageXOffset,y:n.pageYOffset}};var o=["-o-","-moz-","-ms-","-webkit-",""];var h;n.getAvailableCSSPropertyName=function(I){if(!h){h=n.getComputedStyle(z,null)}var H="";if(h){var K=o.length;var J;while(K){J=o[--K]+I;if(J.camelize(K<2) in h){H=J;break}}}return H};var g=function(){x.removeEventListener("DOMContentLoaded",g,false);x.fire("beforedomready");x.fire("domready");x.fire("afterdomready")};x.addEventListener("DOMContentLoaded",g,false);var t=/(?!<)\w*/;var q={area:["<map>","</map>"],legend:["<fieldset>","</fieldset>"],optgroup:["<select>","</select>"],colgroup:["<table><tbody></tbody>","</table>"],col:["<table><tbody></tbody><colgroup>","</colgroup></table>"],tr:["<table><tbody>","</tbody></table>"],th:["<table><tbody><tr>","</tr></tbody></table>"]};q.option=q.optgroup;q.caption=q.thead=q.tfoot=q.tbody=q.colgroup;q.td=q.th;if(navigator.isIElt9){q.link=q.style=q.script=["#",""]}var G=["",""];n.$=x.$=function(J){var I=null;if(typeof J==="string"){if(J.charAt(0)==="<"&&J.charAt(J.length-1)===">"){var H=t.exec(J)[0].toLowerCase();var K=q[H]||G;I=x.createElement("div");I.innerHTML=K[0]+J+K[1];while((I=I.lastChild)&&I.nodeName.toLowerCase()!==H){}if(I&&I.nodeType!==1){I=null}}else{I=x.querySelector(J)}}else{if(J&&J.nodeType===1){I=J}}return I};x.find=function(H){return this.querySelector(H)};x.findAll=function(H){return Array.from(this.querySelectorAll(H))};var E;x.addStyleRules=function(I){if(!E){x.head.appendChild(x.createElement("style"));var H=x.styleSheets;E=H[H.length-1]}I.forEach(function(J){E.insertRule(J,E.cssRules.length)})};x.loadScript=function(J,I){I=I||{};var H=x.head;var K=x.createElement("script");if(I.charset){K.charset=I.charset}K.src=J;K.onload=K.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){this.onload=this.onreadystatechange=null;H.removeChild(K);if(I.onLoad){I.onLoad.call(this)}}};H.appendChild(K)};x.preloadImages=function(H,I){H.forEach(function(J){var K=new Image();if(I){K.onload=function(){K.onload=null;I.call(K,{src:J})}}K.src=J})};if(!("innerText" in z)){HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("innerText",function(H){this.textContent=H;return H})}if(!("outerText" in z)){HTMLElement.prototype.__defineGetter__("outerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("outerText",function(I){var H=x.createTextNode(I);this.parentNode.replaceChild(H,this);return I})}if(!("insertAdjacentText" in z)){HTMLElement.prototype.insertAdjacentText=function(H,I){switch(H.toLowerCase()){case"beforebegin":case"afterbegin":case"beforeend":case"afterend":this.insertAdjacentElement(H,x.createTextNode(I));break;default:throw new Error('Invalid position "'+H+'"')}}}if(!("insertAdjacentElement" in z)){HTMLElement.prototype.insertAdjacentElement=function(I,H){var J;switch(I.toLowerCase()){case"beforebegin":if(J=this.parentNode){J.insertBefore(H,this)}break;case"afterbegin":this.insertBefore(H,this.firstChild);break;case"beforeend":this.appendChild(H);break;case"afterend":if(J=this.parentNode){J.insertBefore(H,this.nextSibling)}break;default:throw new Error('Invalid position "'+I+'"')}return H}}var w=/^(?:([[\w\*]+)|#([\w-]+)|\.([\w-]+))$/;Element.prototype.getParent=function(){return this.parentElement};Element.prototype.getPreviousSibling=function(){return this.previousElementSibling};Element.prototype.getNextSibling=function(){return this.nextElementSibling};Element.prototype.getFirstChild=function(){return this.firstElementChild};Element.prototype.getLastChild=function(){return this.lastElementChild};Element.prototype.getChildren=function(){return Array.from(this.children)};Element.prototype.getChildCount=function(){return this.childElementCount};Element.prototype.find=function(H){var I;if(w.test(H)){I=this.querySelector(H)}else{var J=this.id||(this.id="__temporary__");I=this.querySelector("#"+J+" "+H);if(this.id==="__temporary__"){this.removeAttribute("id")}}return I};Element.prototype.findAll=function(I){var H;if(w.test(I)){H=this.querySelectorAll(I)}else{var J=this.id||(this.id="__temporary__");H=this.querySelectorAll("#"+J+" "+I);if(this.id==="__temporary__"){this.removeAttribute("id")}}return Array.from(H)};var d=function(){var H="";var J=["matchesSelector","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector"];var I;while(I=J.shift()){if(I in z){H=I;break}}return H}();Element.prototype.matchesSelector=d?function(H){return this[d](H)}:function(){throw new TypeError('Unsupport method "matchesSelector"')};Element.prototype.clone=function(K,J){var I=this.cloneNode(K);var H=[this];var L=[I];if(K){H=H.concat(Array.from(this.getElementsByTagName("*")));L=L.concat(Array.from(I.getElementsByTagName("*")))}H.forEach(function(M,O){var N=L[O];switch(N.nodeName){case"INPUT":case"TEXTAREA":if(N.type==="radio"||N.type==="checkbox"){N.checked=N.defaultChecked=M.defaultChecked}N.value=N.defaultValue=M.defaultValue;break;case"OPTION":N.selected=N.defaultSelected=M.defaultSelected;break}if(J){var P=M.eventHandlers;if(P){Object.forEach(P,function(Q){Q.forEach(function(R){N.on(R.name,R.listener)})})}}});return I};Element.prototype.insertTo=function(I,H){H=H||"beforeEnd";return I.insertAdjacentElement(H,this)};Element.prototype.swap="swapNode" in z?function(H){return this.swapNode(H)}:function(H){var K=H.parentElement;var J=this.parentElement;var I=this.nextSibling;if(K){K.replaceChild(this,H)}else{this.remove(true)}if(J){J.insertBefore(H,I)}return this};Element.prototype.replace=function(H,I){var J=H.parentElement;if(J){if(!I){Array.from(A(H).getElementsByTagName("*")).forEach(A)}J.replaceChild(this,H)}return this};Element.prototype.remove=function(H){var I=this.parentElement;if(I){if(!H){Array.from(A(this).getElementsByTagName("*")).forEach(A)}I.removeChild(this)}return this};Element.prototype.empty=function(){Array.from(this.getElementsByTagName("*")).forEach(A);while(this.firstChild){this.removeChild(this.firstChild)}return this};Element.prototype.getClientRect=function(){return this.getBoundingClientRect()};Element.prototype.hasClass=function(H){var I=this.classList;return H.split(r).every(function(J){return I.contains(J)})};Element.prototype.addClass=function(H){var I=this.classList;H.split(r).forEach(function(J){I.add(J)});return this};Element.prototype.removeClass=function(H){var I=this.classList;H.split(r).forEach(function(J){I.remove(J)});return this};Element.prototype.toggleClass=function(H){var J=this.classList;var I=arguments.length===1?null:!!arguments[1];H.split(r).forEach(function(K){switch(I){case true:J.add(K);break;case false:J.remove(K);break;default:J.toggle(K);break}});return this};var C={"fill-opacity":true,"font-weight":true,"line-height":true,opacity:true,orphans:true,widows:true,"z-index":true,zoom:true};var F={};["user-select","transform","transform-origin","backface-visibility","perspective","transition","transition-property","transition-duration","transition-timing-function","transition-delay"].forEach(function(H){var I=n.getAvailableCSSPropertyName(H);if(I){F[H]=I}});Element.prototype.getStyle=function(I){I=I.dasherize();I=F[I]||I;var H=n.getComputedStyle(this,null);return H&&H.getPropertyValue(I)||""};Element.prototype.getStyles=function(H){var I={};H.forEach(function(J){I[J]=this.getStyle(J)},this);return I};Element.prototype.setStyle=function(I,H){I=I.dasherize();I=F[I]||I;if(H===""){this.style.removeProperty(I)}else{this.style.setProperty(I,Number.isFinite(H)&&!C[I]?H+"px":H)}return this};Element.prototype.setStyles=function(H){Object.forEach(H,function(I,J){this.setStyle(J,I)},this);return this};Element.prototype.reflow=function(){var H=this.offsetWidth;return this};var i=/^[a-z][a-zA-Z]*$/;var f=function(H){return i.test(H)?"data-"+H.dasherize():""};Element.prototype.getData="dataset" in z?function(H){var I=this.dataset[H];return I===undefined?null:I}:function(H){H=f(H);var I=this.getAttribute(H);return typeof I==="string"?I:null};Element.prototype.setData=function(H,I){H=f(H);if(H){this.setAttribute(H,String(I))}return this};Element.prototype.removeData=function(H){H=f(H);if(H){this.removeAttribute(H)}return this};var l=function(M){var L="";if(M.nodeType){switch(M.type){case"radio":case"checkbox":if(M.checked&&!M.disabled){L=M.value}break;case"select-one":case"select-multiple":if(!M.disabled){var I=M.options;var J=0;var K;if(M.type==="select-one"){var H=M.selectedIndex;if(navigator.isSafari&&H===0&&!I[0].hasAttribute("selected")){while(K=I[++J]){if(!K.disabled&&!K.parentNode.disabled){H=J;break}}}if(H>=0&&!I[H].disabled){L=I[H].value}}else{L=[];while(K=I[J++]){if(K.selected&&!K.disabled&&!K.parentNode.disabled){L.push(K.value)}}}}break;default:if(!M.disabled){L=M.value}}}else{L=[];Array.from(M).forEach(function(O){var N=l(O);if(N){L=L.concat(N)}})}return L};HTMLFormElement.prototype.getFieldValue=function(H){var I=this.elements[H];if(!I){throw new Error('Invalid field name "'+H+'"')}return l(I)};if(HTMLSelectElement.prototype.remove){HTMLSelectElement.prototype.remove=Element.prototype.remove}HTMLSelectElement.prototype.insertOption=function(H,L,K,J,I){this.options.add(new Option(L,K,J,I),H);return this};HTMLSelectElement.prototype.deleteOption=function(H){var I=H>-1?this.options[H]:null;if(I){I.remove()}return this};var u={mousedown:5,mouseup:5,click:5,dblclick:5,contextmenu:5,mousemove:5,mouseover:5,mouseout:5,mouseenter:1,mouseleave:1,mousewheel:5,mousedragstart:5,mousedrag:5,mousedragend:5,mousedragenter:5,mousedragleave:5,mousedragover:5,mousedrop:5,dragstart:5,drag:5,dragend:5,dragenter:5,dragleave:5,dragover:5,drop:5,keydown:6,keypress:6,keyup:6,focus:0,blur:0,focusin:4,focusout:4,input:4,change:4,select:0,cut:4,copy:4,paste:4,submit:0,reset:0,scroll:0,resize:0,load:0,unload:0,error:0,beforedomready:0,domready:0,afterdomready:0,transitionend:4,touchstart:4,touchend:4,touchmove:4,touchcancel:4,orientationchange:0};var v={mouseenter:true,mouseleave:true};var B=function(){return true};var m=function(){return false};var r=/\s*,\s*/;var b=/^([a-zA-Z]+)(?::relay\(([^\)]+)\))?(?::(once)|:idle\((\d+)\)|:throttle\((\d+)\))?(?:\.\w+)?$/;var p=/({)|}/g;var j=function(I){var K="";var M=0;var J=0;var L;while(L=I.charAt(J++)){if(L==="{"||L==="}"){K="";break}if(L==="("){if(M>0){L="{"}++M}else{if(L===")"){--M;if(M>0){L="}"}}}K+=L}var H=K.match(b);if(H===null){throw new SyntaxError('Invalid listener name "'+I+'"')}return{type:H[1],selector:H[2]?H[2].replace(p,function(O,N){return N?"(":")"}):"",once:!!H[3],idle:parseInt(H[4],10),throttle:parseInt(H[5],10)}};var a=function(Q,L,H,K){var R=L.slice(0);var N=L.delegateCount;var I=N?H.target:Q;var J={};var S;var M;var O;var P;do{if(I===Q){O=N;P=R.length}else{O=0;P=N}while(O<P){S=R[O++];M=S.selector;if(!M||(J[M]||(J[M]=function(U){if(U){return function(X){var V=U.tagName;var W=U.className;return(V?X.nodeName.toUpperCase()===V:true)&&(W?X.hasClass(W):true)}}else{var T=Q.findAll(M);return function(V){return T.contains(V)}}}(S.simpleSelector)))(I)){if(!K||K.call(I,H)){if(S.listener.call(I,H)===false){H.stopPropagation();H.preventDefault()}if(H.isImmediatePropagationStopped()){break}}}}}while(!(I===Q||H.isPropagationStopped())&&(I=I===x&&n||I===z&&x||I.getParent()))};var A=function(K){var J=K.eventHandlers;if(J){var I=Object.keys(J);var H;while(I.length){H=J[I.shift()];while(H.length){K.off(H[0].name)}}}return K};var c={};c.mousedragstart=c.mousedrag=c.mousedragend=function(){var H=["mousedragstart","mousedrag","mousedragend"];var N=function(aa){aa.preventDefault()};if((navigator.isChrome||navigator.isSafari)&&n!==top){N.enabled=true}var I=navigator.support.touch;var M=NaN;var X=null;var V=0;var U=0;var Q=false;var Z=null;var J=null;var Y={};var O=["timeStamp","ctrlKey","altKey","shiftKey","metaKey","clientX","clientY","screenX","screenY","pageX","pageY","leftButton","middleButton","rightButton","which"];var S=function(aa){O.forEach(function(ab){if(aa[ab]){Y[ab]=aa[ab]}})};var W=function(ac){if(!X){var ab=new y(ac.type,ac);if(I||ab.leftButton){X=ab.target;V=ab.pageX;U=ab.pageY;S(ab);Y.offsetX=Y.offsetY=0;var aa=X.fire("mousedragstart",Y);Y.relatedTarget=aa.relatedTarget||null;Q=!!aa.aimRelatedTarget;if(aa.isDefaultPrevented()){if(X.setCapture){X.setCapture()}if(N.enabled){x.addEventListener("selectstart",N,false)}else{ab.preventDefault()}}setTimeout(function(){if(I){x.addEventListener("touchmove",L,false);x.addEventListener("touchend",K,false);x.addEventListener("touchcancel",K,false)}else{x.addEventListener("mousemove",R,false);x.addEventListener("mousedown",T,false);x.addEventListener("mouseup",T,false)}n.addEventListener("blur",T,false)},0)}}};var R=function(ae){var ab=new y(ae.type,ae);S(ab);Y.offsetX=ab.pageX-V;Y.offsetY=ab.pageY-U;X.fire("mousedrag",Y);var ai=ab.clientX;var ah=ab.clientY;var af=Y.relatedTarget;if(af){if(Q){var aa=af.getClientRect();ai=aa.left+Math.floor(aa.width/2);ah=aa.top+Math.floor(aa.height/2)}var ac=af.style;var ad=ac.left;var ag=ac.top;ac.left="-50000px";ac.top="0"}Z=x.elementFromPoint(ai,ah);if(af){ac.left=ad;ac.top=ag}if(Z!==J){if(J){J.fire("mousedragleave",Y)}if(Z){Z.fire("mousedragenter",Y)}}if(Z){Z.fire("mousedragover",Y)}J=Z};var T=function(ab){if(ab.type.startsWith("mouse")){var aa=new y(ab.type,ab);S(aa)}Y.timeStamp=Date.now();if(Z){Z.fire("mousedrop",Y)}X.fire("mousedragend",Y);if(X.releaseCapture){X.releaseCapture()}if(N.enabled){x.removeEventListener("selectstart",N,false)}X=Z=J=null;V=U=0;Q=false;Y={};if(I){x.removeEventListener("touchmove",L,false);x.removeEventListener("touchend",K,false);x.removeEventListener("touchcancel",K,false)}else{x.removeEventListener("mousemove",R,false);x.removeEventListener("mousedown",T,false);x.removeEventListener("mouseup",T,false)}n.removeEventListener("blur",T,false)};var P=function(aa){if(!M){var ab=aa.changedTouches[0];M=ab.identifier;W(Object.mixin(ab,{type:"mousedown",preventDefault:function(){aa.preventDefault()}}))}};var L=function(aa){var ab=null;Array.from(aa.changedTouches).some(function(ac){if(ac.identifier===M){ab=ac}return ab});if(ab){R(Object.mixin(ab,{type:"mousemove"}))}};var K=function(aa){var ab=null;Array.from(aa.changedTouches).some(function(ac){if(ac.identifier===M){M=NaN;ab=ac}return ab});if(ab){T(Object.mixin(ab,{type:"mouseup"}))}};return{add:function(ab){if(I){ab.addEventListener("touchstart",P,false)}else{ab.addEventListener("mousedown",W,false)}var aa=ab.eventHandlers;H.forEach(function(ad){if(!aa[ad]){var ac=[];ac.delegateCount=0;aa[ad]=ac}})},remove:function(ac){var ab=ac.eventHandlers;var aa=0;H.forEach(function(ad){aa+=ab[ad].length});if(aa===0){if(I){ac.removeEventListener("touchstart",P,false)}else{ac.removeEventListener("mousedown",W,false)}H.forEach(function(ad){delete ab[ad]})}return false}}}();if(navigator.isFirefox){Object.forEach({focusin:"focus",focusout:"blur"},function(J,I){var K=0;var H=function(L){L.target.fire(I)};c[I]={add:function(){if(++K===1){x.addEventListener(J,H,true)}},remove:function(){if(--K===0){x.removeEventListener(J,H,true)}}}})}if(navigator.isFirefox){var e=function(H){var J=H.nodeName;var I=H.type;return J==="TEXTAREA"||J==="INPUT"&&(I==="text"||I==="password")};x.addEventListener("drop",function(I){var H=I.target;if(e(H)&&H!==x.activeElement){setTimeout(function(){H.fire("change")},0)}},false)}function y(H,L,J){var I=u.hasOwnProperty(H)?u[H]:0;this.originalEvent=L;this.type=H;var K=L.target||x;if(K.nodeType===3){K=K.parentNode}this.target=K;this.timeStamp=L.timeStamp||Date.now();this.bubbles=!!(I&4);if(L.type){if(I&3){this.ctrlKey=L.ctrlKey;this.altKey=L.altKey;this.shiftKey=L.shiftKey;this.metaKey=L.metaKey;if(I&1){this.clientX=L.clientX;this.clientY=L.clientY;this.screenX=L.screenX;this.screenY=L.screenY;this.pageX=L.pageX;this.pageY=L.pageY;var M=L.which;this.leftButton=M===1;this.middleButton=M===2;this.rightButton=M===3;this.which=M;this.relatedTarget=L.relatedTarget}else{this.which=L.which}}}else{if(J){Object.mixin(this,J,{blackList:["originalEvent","type","target"]})}}}Object.mixin(y.prototype,{stopPropagation:function(){var H=this.originalEvent;if(H){H.stopPropagation()}this.isPropagationStopped=B},isPropagationStopped:m,preventDefault:function(){var H=this.originalEvent;if(H){H.preventDefault()}this.isDefaultPrevented=B},isDefaultPrevented:m,stopImmediatePropagation:function(){this.stopPropagation();this.isImmediatePropagationStopped=B},isImmediatePropagationStopped:m});var k=function(){};var D=/^(\w*)(?:\.([\w\-]+))?$/;var s={transition:"transitionend",mstransition:"MSTransitionEnd",moztransition:"transitionend",webkittransition:"webkitTransitionEnd",otransition:"oTransitionEnd"}[getAvailableCSSPropertyName("transition").camelize().toLowerCase()];k.prototype.on=function(H,I){var K=this;var J=K.eventHandlers||(K.eventHandlers={});H.split(r).forEach(function(L){var Q=j(L);var T=Q.type;var O=Q.selector;var M=Q.once;var P=Q.idle;var U=Q.throttle;var N=J[T]||(J[T]=[]);if(!("delegateCount" in N)){if(u.hasOwnProperty(T)){if(c[T]){c[T].add(K)}else{var S;switch(T){case"mousewheel":S=function(Y){var X=new y(T,Y);var W="wheelDelta" in Y?-Y.wheelDelta:Y.detail||0;X.wheelUp=W<0;X.wheelDown=W>0;a(K,N,X)};S.type=navigator.isFirefox?"DOMMouseScroll":"mousewheel";break;case"mouseenter":case"mouseleave":S=function(W){a(K,N,new y(T,W),function(Y){var X=Y.relatedTarget;return !X||this.contains&&!this.contains(X)})};S.type=T==="mouseenter"?"mouseover":"mouseout";break;case"transitionend":S=function(X){var W=new y(T,X);W.propertyName=X.propertyName;a(K,N,W)};S.type=s;break;default:S=function(W){a(K,N,new y(T,W))};S.type=T}K.addEventListener(S.type,S,false);N.distributor=S}}N.delegateCount=0}var V={name:L};if(M){V.listener=function(X){var W=I.call(this,X);K.off(L);return W}}else{if(P){V.listener=function(){var W;return function(Y){var X=this;if(W){clearTimeout(W)}W=setTimeout(function(){I.call(X,Y);W=undefined},P)}}()}else{if(U){V.listener=function(){var Z;var X;var W;var Y=0;return function(ac){X=this;W=ac;var aa=Date.now();var ab=aa-Y;if(!Z){Z=setTimeout(function(){I.call(X,W);Y=Date.now();Z=undefined},ab<U?U-ab:0)}}}()}else{V.listener=I}}}if(O){V.selector=O;var R;if(R=O.match(D)){V.simpleSelector={tagName:R[1].toUpperCase(),className:R[2]||""}}N.splice(N.delegateCount++,0,V)}else{N.push(V)}});return K};k.prototype.off=function(H){var J=this;var I=J.eventHandlers;if(!I){return J}H.split(r).forEach(function(L){var O=j(L).type;var K=I[O];if(!K){return}var M=0;var N;while(M<K.length){N=K[M];if(N.name===L){K.splice(M,1);if(N.selector){K.delegateCount--}}else{M++}}if(K.length===0){if(u.hasOwnProperty(O)){if(c[O]){if(c[O].remove(J)===false){return}}else{var P=K.distributor;J.removeEventListener(P.type,P,false)}}delete I[O]}});if(Object.keys(I).length===0){delete J.eventHandlers}return J};k.prototype.fire=function(I,K){var J=new y(I,{type:"",target:this,stopPropagation:m,preventDefault:m},K);var M=this;var L;var H;while(M){if(H=(L=M.eventHandlers)&&L[J.type]){a(M,H,J)}if(!J.bubbles||J.isPropagationStopped()||M===n){break}M=M===x&&n||M===z&&x||M.getParent()}return J};n.on=x.on=Element.prototype.on=k.prototype.on;n.off=x.off=Element.prototype.off=k.prototype.off;n.fire=x.fire=Element.prototype.fire=k.prototype.fire})(window);(function(d){var f=/\s*,\s*/;var b=/^([a-zA-Z]+)(?:\.\w+)?$/;var a=function(h){var g=h.match(b);if(g===null){throw new SyntaxError('Invalid listener name "'+h+'"')}return g[1]};var e=function(g,i,h){this.type=g;this.target=i;if(h){Object.mixin(this,h,{blackList:["type","target"]})}};var c=d.JSEventTarget=function(){this.eventHandlers={}};c.create=function(g){this.call(g);Object.mixin(g,this.prototype);return g};c.prototype.on=function(g,h){var i=this.eventHandlers;g.split(f).forEach(function(k){var l=a(k);var j=i[l]||(i[l]=[]);j.push({name:k,listener:h})});return this};c.prototype.off=function(g){var h=this.eventHandlers;g.split(f).forEach(function(k){var n=a(k);var j=h[n];if(j){var l=0;var m;while(l<j.length){m=j[l];if(m.name===k){j.splice(l,1)}else{l++}}if(j.length===0){delete h[n]}}});return this};c.prototype.fire=function(h,j){var k=this;var i=new e(h,k,j);var g=k.eventHandlers[h];if(g){g.slice(0).forEach(function(l){l.listener.call(k,i)})}return i}})(window);(function(E){var z={};var D=-2;var e=-1;var h=0;var v=1;var q=2;var b=-1;var p=0;var J=1;var L=function(Q,P,Z,Y){var O=0,X=0,V=0,aa=0,W=0,U=0;var T=function(ab){return((O*ab+X)*ab+V)*ab};var S=function(ab){return((aa*ab+W)*ab+U)*ab};var R=function(ad){var ah,ag,ae,ab,af,ac;var ai=0.001;for(ae=ad,ac=0;ac<8;ac++){ab=T(ae)-ad;if(Math.abs(ab)<ai){return ae}af=(3*O*ae+2*X)*ae+V;if(Math.abs(af)<0.000001){break}ae=ae-ab/af}ah=0;ag=1;ae=ad;if(ae<ah){return ah}if(ae>ag){return ag}while(ah<ag){ab=T(ae);if(Math.abs(ab-ad)<ai){return ae}if(ad>ab){ah=ae}else{ag=ae}ae=(ag-ah)*0.5+ah}return ae};V=3*Q;X=3*(Z-Q)-V;O=1-V-X;U=3*P;W=3*(Y-P)-U;aa=1-U-W;return function(ab){return S(R(ab))}};var x={linear:function(O){return O},bounceIn:function(P){P=1-P;var R;for(var Q=0,O=1;1;Q+=O,O/=2){if(P>=(7-4*Q)/11){R=O*O-Math.pow((11-6*Q-11*P)/4,2);break}}return 1-R},bounceOut:function(P){var R;for(var Q=0,O=1;1;Q+=O,O/=2){if(P>=(7-4*Q)/11){R=O*O-Math.pow((11-6*Q-11*P)/4,2);break}}return R},ease:L(0.25,0.1,0.25,1),easeIn:L(0.42,0,1,1),easeOut:L(0,0,0.58,1),easeInOut:L(0.42,0,0.58,1),easeOutIn:L(0,0.42,1,0.58)};var K=function(O){O=O||"";return x[O]||(O.startsWith("cubic-bezier")?L.apply(null,O.slice(13,-1).split(",").map(function(P){return parseFloat(P)})):x.ease)};var A=function(O,Q,P){O.clips.forEach(function(S){var U=false;var T=S.duration;var R=(Q-S.delay)/Math.max(1,T);if(P){if(S.status===J){return}if(S.status===b){if(R>=0){R=T?0:1;S.status=p}}if(S.status===p){U=true;if(R>=1){R=1;S.status=J}}}else{if(S.status===b){return}if(S.status===J){if(R<=1){R=T?1:0;S.status=p}}if(S.status===p){U=true;if(R<=0){R=0;S.status=b}}}if(U){S.call(O,R,R===0?0:(R===1?1:S.timingFunction(R)))}});O.fire("step");if(P){if(Q===O.duration){if(O.timestamp){w(O)}O.status=q;O.fire("playfinish")}}else{if(Q===0){if(O.timestamp){w(O)}O.status=D;O.fire("reversefinish")}}};var o=false;var d=[];var m=E.requestAnimationFrame||E.mozRequestAnimationFrame||E.webkitRequestAnimationFrame||function(O){setTimeout(O,1000/60)};var F=function(){var O=Date.now();d.forEach(function(P){var R=P.status===v;var Q=Math.limit(P.timePoint+(O-P.timestamp)*(R?1:-1),0,P.duration);P.timestamp=O;P.timePoint=Q;A(P,Q,R)});if(d.length){m(F)}else{o=false}};var H=function(O){O.timestamp=Date.now();d.push(O);if(!o){m(F);o=true}};var w=function(O){delete O.timestamp;d.remove(O)};var n=E.Animation=function(){this.clips=[];this.timePoint=0;this.status=D;this.duration=0;JSEventTarget.create(this)};n.prototype.addClip=function(Q,O,R,P){Q.delay=O;Q.duration=R;Q.timingFunction=K(P);Q.status=b;this.clips.push(Q);this.duration=Math.max(this.duration,O+R);return this};n.prototype.play=function(P){var Q=this;var T=P!==z;var O=Q.status;if(T&&O!==v&&O!==q||!T&&O!==e&&O!==D){if(T){Q.status=v;Q.fire("play");if(O===D&&Q.status===v){Q.fire("playstart")}}else{Q.status=e;Q.fire("reverse");if(O===q&&Q.status===e){Q.fire("reversestart")}}if(!Q.timestamp&&(Q.status===v||Q.status===e)){var S=Q.timePoint;var R=Q.duration;A(Q,S,T);if(T?S!==R:S!==0){H(Q)}}return true}return false};n.prototype.reverse=function(){return this.play(z)};n.prototype.pause=function(){var O=this;if(O.status===v||O.status===e){if(O.timestamp){w(O)}O.status=h;O.fire("pause");return true}return false};var r=1;var I=2;var s=4;var N={};var c=["opacity"];var t=["top","right","bottom","left","width","height","outlineWidth","backgroundPositionX","backgroundPositionY","fontSize","lineHeight","letterSpacing","wordSpacing","textIndent"];t.push("margin","padding","borderWidth","borderColor");var i=["color","backgroundColor","outlineColor"];["Top","Right","Bottom","Left"].forEach(function(O){t.push("margin"+O,"padding"+O,"border"+O+"Width");i.push("border"+O+"Color")});c.forEach(function(O){N[O]=r});t.forEach(function(O){N[O]=I});i.forEach(function(O){N[O]=s});var C=function(P){var O=parseFloat(P);return isFinite(O)?O:0};var B={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8B",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var G=/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i;var l=/^#([\da-f])([\da-f])([\da-f])$/i;var j=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/;var k=function(Q){var P=[255,255,255];if(B.hasOwnProperty(Q)){Q=B[Q]}var O;if(O=Q.match(G)){P=Array.from(O).slice(1).map(function(R){return parseInt(R,16)})}else{if(O=Q.match(l)){P=Array.from(O).slice(1).map(function(R){return parseInt(R+R,16)})}else{if(O=Q.match(j)){P=Array.from(O).slice(1).map(function(R){return +R})}}}return P};var g=/^[+\-]=\d+$/;var u=function(O,P){return typeof P==="string"&&g.test(P)?O+(+(P.slice(0,1)+"1")*P.slice(2)):C(P)};var M=function(P,Q){var O=P.getStyles(Object.keys(Q));var R={before:{},after:{}};Object.forEach(O,function(U,S){var T=Q[S];switch(N[S]){case r:R.before[S]=C(U);R.after[S]=C(T);break;case I:R.before[S]=U=C(U);R.after[S]=u(U,T);break;case s:R.before[S]=k(U);R.after[S]=k(T);break}});return R};n.createBasicRenderer=function(O){O.type="basic";return O};n.createStyleRenderer=function(P,Q){var O=document.$(P);var S=M(O,Q);var R=function(T,U){Object.forEach(S.before,function(Y,V){var W=S.after[V];var X;switch(N[V]){case r:X=(Y+(W-Y)*U).toFixed(2);break;case I:X=Math.floor(Y+(W-Y)*U)+"px";break;case s:X="rgb("+Math.floor(Y[0]+(W[0]-Y[0])*U)+", "+Math.floor(Y[1]+(W[1]-Y[1])*U)+", "+Math.floor(Y[2]+(W[2]-Y[2])*U)+")";break}O.setStyle(V,X)})};R.type="style";return R};n.createScrollRenderer=function(Q,V,U){var Y=document.$(Q);var R;var X;var O=Y===document.documentElement||Y===document.body;if(O){var W=E.getPageOffset();R=W.x;X=W.y}else{R=Y.scrollLeft;X=Y.scrollTop}var T=u(R,V)-R;var P=u(X,U)-X;var S=function(Z,ac){var ab=Math.round(R+T*ac);var aa=Math.round(X+P*ac);if(O){E.scrollTo(ab,aa)}else{Y.scrollLeft=ab;Y.scrollTop=aa}};S.type="scroll";return S};var f=/\s*,\s*/;var a=function(){};var y=function(O){return O._animations_||(O._animations_={})};Element.prototype.morph=function(R,P){var O=this;P=Object.mixin({duration:400,timingFunction:"ease",onStart:a,onStep:a,onFinish:a},P||{});var T=y(O);var S=T.morph;if(S){S.pause()}var Q=T.morph=new n().addClip(n.createStyleRenderer(O,R),0,P.duration,P.timingFunction).on("playstart",function(U){P.onStart.call(O,U)}).on("step",function(U){P.onStep.call(O,U)}).on("playfinish",function(U){delete T.morph;P.onFinish.call(O,U)});Q.play();return O};Element.prototype.highlight=function(Q,U,R){var O=this;Q=Q||"yellow";U=U||"backgroundColor";R=Object.mixin({duration:500,timingFunction:"easeIn",onStart:a,onStep:a,onFinish:a},R||{});var V=y(O);var T=V.highlight;if(T){T.pause();O.setStyle(T.property,T.originalColor)}var S={};S[U]=O.getStyle(U);var P=V.highlight=new n().on("playstart",function(W){O.setStyle(U,Q);this.addClip(n.createStyleRenderer(O,S),0,R.duration,R.timingFunction);R.onStart.call(O,W)}).on("step",function(W){R.onStep.call(O,W)}).on("playfinish",function(W){O.setStyle(this.property,this.originalColor);delete V.highlight;R.onFinish.call(O,W)});P.property=U;P.originalColor=O.style[U];P.play();return O};Element.prototype.fade=function(S,X){var U=this;var V=y(U);var P=V.fade;var R=P?!P.isFadeInMode:U.getStyle("display")==="none";var W;switch((S||"toggle").toLowerCase()){case"toggle":W=R;break;case"in":W=true;break;case"out":W=false;break;default:throw new Error('Invalid mode "'+S+'"')}if(P||W===R){X=Object.mixin({duration:200,timingFunction:"easeIn",onStart:a,onStep:a,onFinish:a},X||{});var O;var T;if(P){O=P.originalOpacity;T=Math.abs((W===P.isFadeInMode?0:1)-P.percentageNeedsPlay*(1-(P.timePoint/P.duration)));P.pause()}else{O=U.getStyle("opacity");T=1;if(W){U.setStyles({display:"block",opacity:0})}}var Q=V.fade=new n().addClip(n.createStyleRenderer(U,{opacity:W?O:0}),0,X.duration*T,X.timingFunction).on("playstart",function(Y){X.onStart.call(U,Y)}).on("step",function(Y){X.onStep.call(U,Y)}).on("playfinish",function(Y){delete V.fade;if(!W){U.setStyles({display:"none",opacity:O})}X.onFinish.call(U,Y)});Q.isFadeInMode=W;Q.originalOpacity=O;Q.percentageNeedsPlay=T;Q.play()}return U};Element.prototype.smoothScroll=function(P,U,R){var Q=this;R=Object.mixin({duration:200,timingFunction:"easeInOut",onStart:a,onStep:a,onFinish:a},R||{});var T=y(Q);var S=T.smoothScroll;if(S){S.pause()}var O=T.smoothScroll=new n().addClip(n.createScrollRenderer(Q,P,U),0,R.duration,R.timingFunction).on("playstart",function(V){R.onStart.call(Q,V)}).on("step",function(V){R.onStep.call(Q,V)}).on("playfinish",function(V){delete T.smoothScroll;R.onFinish.call(Q,V)});O.play();return Q};Element.prototype.cancelAnimation=function(Q){var O=this;var R=y(O);var P=Q?Q.split(f):null;Object.forEach(R,function(T,S){if(P===null||P.contains(S)){T.pause();delete R[S];switch(S){case"morph":break;case"highlight":O.setStyle(T.property,T.originalColor);break;case"fade":O.setStyles({display:T.isFadeInMode?"block":"none",opacity:T.originalOpacity});break;case"smoothScroll":break}}});return O}})(window);(function(g){var e=Date.now();var a=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;var d=function(j){var i={};var h;while(h=a.exec(j)){i[h[1]]=h[2]}return i};var f=function(m,j,l){var i=NaN;var k=NaN;var h="";if(l.lengthComputable){i=l.loaded;k=l.total;h=Math.floor(i/k*100)+"%"}m.fire(j,{loaded:i,total:k,percentage:h})};var c=function(i,j){var k=i.xhr;delete i.xhr;delete i.startTime;if(i.minTimeTimer){j="complete";clearTimeout(i.minTimeTimer);delete i.minTimeTimer}if(i.maxTimeTimer){clearTimeout(i.maxTimeTimer);delete i.maxTimeTimer}i.inProgress=false;var h={status:0,statusText:"",headers:{},text:""};switch(j){case"abort":k.abort();break;case"error":break;case"timeout":k.abort();break;case"complete":h.status=k.status;h.statusText=k.statusText;h.headers=d(k.getAllResponseHeaders());h.text=k.responseText;break}i.fire(j,h);h.state=j;i.fire("finish",h)};var b=g.Request=function(i,h){this.url=i;h=Object.mixin(Object.clone(b.options,true),h||{});h.method=h.method.toUpperCase();h.contentType=h.contentType.toLowerCase();Object.mixin(this,h,{whiteList:Object.keys(b.options)});this.inProgress=false;JSEventTarget.create(this)};b.options={method:"GET",noCache:false,sync:false,minTime:NaN,maxTime:NaN,username:"",password:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"*/*"},contentType:"multipart/form-data"};b.prototype.send=function(k){var j=this;if(!j.inProgress){j.inProgress=true;j.startTime=Date.now();var i=j.url;var o=j.method;var n=!j.sync;var m=undefined;var h=null;if(k){switch(o){case"OPTIONS":case"HEAD":case"GET":case"DELETE":i+=(i.contains("?")?"&":"?")+Object.toQueryString(k);break;case"POST":case"PUT":case"PATCH":m=j.contentType;if(m.startsWith("multipart/form-data")){m=undefined;h=new FormData();Object.forEach(k,function(q,p){h.append(p,q)})}else{if(m.startsWith("application/x-www-form-urlencoded")){h=Object.toQueryString(k)}else{if(m.startsWith("application/json")){h=JSON.stringify(k)}}}break}}if(j.noCache){i+=(i.contains("?")?"&":"?")+"_="+(++e).toString(36)}var l=j.xhr=new XMLHttpRequest();l.open(o,i,n,j.username,j.password);Object.forEach(j.headers,function(q,p){l.setRequestHeader(p,q)});if(m){l.setRequestHeader("Content-Type",m)}l.upload.addEventListener("progress",function(p){f(j,"uploading",p)});l.addEventListener("progress",function(p){f(j,"downloading",p)});l.addEventListener("error",function(){c(j,"error")});l.addEventListener("load",function(){if(n&&Number.isFinite(j.minTime)){var p=j.minTime-(Date.now()-j.startTime);if(p>0){j.minTimeTimer=setTimeout(function(){c(j,"complete")},p);return}}c(j,"complete")});if(n&&Number.isFinite(j.maxTime)){j.maxTimeTimer=setTimeout(function(){c(j,"timeout")},Math.max(0,j.maxTime))}j.fire("start");l.send(h);return true}return false};b.prototype.abort=function(){if(this.inProgress){c(this,"abort");return true}return false}})(window);(function(c){var a={};var b=c.Widget={};b.register=function(e){if(e.styleRules){document.addStyleRules(e.styleRules)}a[e.type]={selector:e.selector,nodeName:e.selector.substring(0,e.selector.indexOf(".")).toUpperCase(),parse:function(f){if(e.config){Object.forEach(e.config,function(g,i){var j=g;var h=f.getData(i);if(h!==null){switch(typeof g){case"string":j=h;break;case"boolean":j=true;break;case"number":j=parseFloat(h);break;default:throw new Error('Invalid config type "'+i+'"')}}f[i]=j})}if(e.methods){Object.mixin(f,e.methods)}if(e.initialize){e.initialize.call(f)}f.widgetType=e.type}}};var d=/\bwidget-([a-z][a-z0-9-]*)\b/;b.parse=function(g,h){var e=document.$(g);if(!e.widgetType){var f=e.className.match(d);if(f){b.parseAs(e,f[1])}}if(h){e.findAll("[class*=widget-]").forEach(function(i){b.parse(i)})}};b.parseAs=function(f,g){var e=document.$(f);var h=a[g];if(h&&h.parse){if(e.nodeName===h.nodeName){h.parse(e)}else{console.warn('OurJS: Widget "'+g+'" can not be applied on '+e.nodeName+" elements.")}}else{console.warn('OurJS: Widget parser "'+g+'" is not found.')}};document.on("beforedomready",function(){b.parse(document.body,true)})})(window);